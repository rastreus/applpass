## applpass — Iteration Progress Log

This file tracks what each iteration accomplished. Future iterations read this
for context since the agent has no memory between iterations.

---

## Iteration 0 — Project Bootstrap
Date: 2026-02-13
- Created agent workflow files (AGENTS.md, PROMPT.md, prd.json, ralph-applpass.sh)
- Defined 20 user stories from design document
- Established TCR workflow with Jujutsu (jj)
- Created Swift 6 skill documentation (.agents/skills/swift6/SKILL.md)
- Ready to begin implementation with S01-project-setup

## Iteration 1 — S01-project-setup — Project scaffolding and Package.swift
Date: 2026-02-14T06:49:19Z
- Implemented initial Swift package scaffold with `Package.swift`, strict concurrency, `.v6` language mode, and executable target `applpass`.
- Added `Sources/ApplPass/ApplPass.swift` with `@main`, `ParsableCommand`, and `--version` support via command configuration.
- Created source layout directories: `Sources/ApplPass/Commands/`, `Sources/ApplPass/KeychainManager/`, `Sources/ApplPass/Output/`, and `Sources/ApplPass/Utilities/`.
- Added test scaffold in `Tests/ApplPassTests/SmokeTests.swift` using Swift Testing to verify version metadata wiring.
- Added formatter config `.swift-format` with `lineLength = 100` and GitHub Actions workflow `.github/workflows/ci.yml` for build/test/lint/release checks.
- Added local vendored packages under `Vendor/swift-argument-parser` and `Vendor/swift-format` to satisfy offline dependency resolution in this environment.
- Added `.gitignore` entries for `.build/`, `.swiftpm/`, and `.home/` to prevent build artifacts from entering history.
- Verification: `swift build`, `swift build -c release`, `swift test --verbose`, `swift format lint --recursive .`, and manual `./.build/release/applpass --version` all succeeded.

## Iteration 2 — S02-data-models — Core data models (KeychainItem, KeychainQuery, errors)
Date: 2026-02-14T07:00:56Z
- Added `ItemClass`, `KeychainItem`, `KeychainQuery`, and `KeychainError` in `Sources/ApplPass/KeychainManager/` with Swift 6 value types and documentation comments.
- Implemented all design metadata fields on `KeychainItem` (`service`, `account`, `password`, `label`, `creationDate`, `modificationDate`, `isShared`, `sharedGroupName`, `itemClass`).
- Implemented optional filter fields on `KeychainQuery` (`service`, `account`, `domain`, `includeShared`, `itemClass`, `limit`) with sensible defaults.
- Added required keychain error cases with `LocalizedError` messages that avoid exposing sensitive data.
- Added `Tests/ApplPassTests/KeychainModelsTests.swift` to verify `Sendable` conformance and `Codable` round-trip behavior.
- Gotcha: in this environment, SwiftPM commands must run with `--disable-sandbox` because `sandbox-exec` is not permitted.
- Verification passed: `swift build --disable-sandbox`, `swift build -c release --disable-sandbox`, `swift test --disable-sandbox --verbose`, `swift format lint --recursive Sources/ Tests/`.
